%!TEX root=../../autopilot.tex



\newthought{While we believe that} Autopilot's order of magnitude increase of performance and decrease in expense, and its qualitative improvements in task design flexibility due to its distributed architecture are already useful contributions to behavioral neuroscience, we do not view Autopilot as "finished." We view Autopilot---like all open-source software---as an evolving project. We are invested in its development, and will be continually working to fix bugs, make its use more elegant, and add new features in collaboration with its users. 

We expect that as the codebase matures and other researchers use Autopilot in new, unexpected ways that some fundamental elements of its structure may evolve. We have built version logging into the structure of the system so that changes will not compromise the replicability of experiments (see \textbf{Versioning and Containerization} below). While there will inevitably be changes between versions, these will be both transparently documented and announced in release notes in order to alert users and describe how to adapt as needed. Accordingly, potential users should not let the limitations and future directions described below cause them to worry about early adoption or to wait for a stable version---the cost to start using Autopilot is low, and in our experience implementing experiments is already easier and more straightforward than comparable behavior systems. 

\vspace{12pt}

\noindent We see several limitations in the launch version of Autopilot that we will improve on in future versions:


\begin{enumerate}[ref=\thechapter.\arabic*]
    \item \textbf{Python 3} - We began developing Autopilot while there was still a case to be made for using Python 2. Now, given Python 2's impending \href{https://www.python.org/dev/peps/pep-0373/#update}{end of life} in 2020, we will transition Autopilot to Python 3 by the end of 2019. We have already started transitioning with the \texttt{Subject} data class and don't see the transition as a great obstacle.
    \item \textbf{Synchronization} - Currently, there is no synchronization engine built into Autopilot. To ensure time-sensitive operations distributed over multiple Raspberry Pis are synchronized (ie. generate near-identical timestamps), we will add the ability for agents to \href{http://abyz.me.uk/rpi/pigpio/python.html#hardware_clock}{generate and follow a clock signal with pigpio}. This synchronization engine will also allow alignment of Autopilot data with external software, such as the proprietary software often used for imaging data acquisition.
    \item \label{item:othertools} \textbf{Integration with Other Software} - We will make Autopilot capable of natively recording electrophysiological data by integrating with Open Ephys\citep{siegleOpenEphysOpensource2017}. We also are interested in tightly integrating other recent tools like DeepLabCut\citep{nathUsingDeepLabCut3D2019} and MoSeq\citep{wiltschkoMappingSubSecondStructure2015} to make Autopilot a unified platform for complex and naturalistic behavioral experiments.
    \item \textbf{Transformations} - To enable the use of computer vision and other analytical tools within tasks we have begun building a data transformation module. This module will provide a framework to perform high-level data transformations---eg. images from a camera to positions of tracked objects---that convert raw data from hardware objects to processed data useful for designing complex tasks.
    \item \textbf{Agents}\label{sec:futureagents} - The Agent infrastructure is still immature---the terminal, pilot, and child agents are written as independent classes, rather than with a shared inheritance structure. We will be designing a common Agent class schema so that they are easier to design and deploy. We also plan to expand the available agents, specifically by introducing Observer and Compute agents. Observers will be designed for passive observation without supervision from a terminal, eg. for monitoring animals continuously in their home cages. Compute agents will run on high-performance computers in order to facilitate computationally intensive operations like GPU-dependent image analysis, online spike-sorting, etc. A mature agent framework will provide a much more streamlined path to the complex multi-agent experiments alluded to in Section \ref{sec:topology}.
    \item \textbf{Data} - We plan on transitioning our data model to implementing the Neurodata Without Borders\citep{rubelNWBAccessibleData2019} standard.  Since the Neurodata Without Borders standard is implemented in HDF5 and structurally similar to our data model, this transition should be straightforward. We also plan on adding support for a NoSQL \href{https://www.mongodb.com/}{mongoDB} database backend to improve reliability, scalability, and performance of data storage and retrieval. Since our data model is standardized, we will ensure all data storage backends are mutually compatible so data stored in a database can be exported to HDF5 files and vice versa. Currently Autopilot only automatically logs changes in task parameters and code version, but in the future we will expand our logging facility to include detailed data on systemwide preferences and connected hardware. 
    \item \textbf{Versioning and Containerization} - While Autopilot version and local changes are logged in collected data by default, there is no way to specify that a task should be run using a particular version automatically (ie. the user has to manually check out the specific git commit before running Autopilot). We intend on supporting task parameterizations that specify particular versions of Autopilot. We also will expand Autopilot's version logging system to include the versions of all the other packages in the environment. In our view, the best way to support reproducible software environments is to use a container system like \href{https://www.docker.com/}{Docker}, so we will be building infrastructure to generate containers from task parameterizations.
    \item \textbf{Tasks} - We look forward to collaborating with other researchers to expand the available library of tasks. While the two-alternative forced choice and go/no-go tasks we have implemented are common, we designed Autopilot to be capable of performing \textit{any} behavioral experiment. For example: we have already started a collaboration to build a freely-moving, jumping-based behavior that relies on 16 hardware components and data streams, and have future plans to build hardware and stimulus management extensions for human psychophysical tasks performed in an fMRI. 
    \item \label{future:network}\textbf{Mesh Networking} - The tree structure of Autopilot's networking was built to enforce simplicity of its messaging protocol, but it limits the ability for data to be shared efficiently between a large number of pilots because communication has to be routed through a hub terminal. We will implement a true mesh network architecture by implementing a distributed hash table, allowing agents to directly communicate with one another without explicit configuration. We also will implement a peer-to-peer data protocol akin to Bittorrent to allow efficient distribution of data across a swarm of agents.
    \item \textbf{Web Interface} - We would like to make a web-compatible UI that allows tasks to be administered and monitored from any computer. A web interface would make continuous experiments much easier to manage---we specifically intend this improvement (along with the Observer agent) to facilitate active sensory enrichment\citep{wellsSensoryStimulationEnvironmental2009,engineerEnvironmentalEnrichmentImproves2004a} and developmental experiments.
    \item \textbf{Platform Independence} - We have not rigorously tested Autopilot on operating systems other than Raspbian and Ubuntu Linux, though we know the terminal agent and its GUI works on macOS. 
    \item \textbf{Unit Tests} - At release, Autopilot has no unit tests. To make the codebase easier to maintain, we aim to reach 100\% coverage by the first stable release of the program (v1.0).
    \item \label{future:gui} \textbf{Save the GUI Plz}
    \item \label{future:plugins} \textbf{Plugins} - we want to be permissive, but we still need a way of specifyinng dependencies and all that. Also need to still complete all the actual management stuff like getting plugins and etc.
    \item \label{future:wiki} \textbf{Wiki} - generate data models to upload to wiki, 
\end{enumerate}
\end{fullwidth}